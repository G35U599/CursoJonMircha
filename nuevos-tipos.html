<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>this en js</title>
    <style>
      * {
        background-color: rgb(38, 38, 38);
      }
      /*animation: pulse 1.5s linear infinite;*/
      .alias h2:hover {
        transform: translateY(1.2);
      }
    </style>
  </head>
  <body>
    <h1>this en js</h1>
    <h2 class="alias">Jesusefp</h2>
    <script>
      let id = Symbol("id");
      let id2 = Symbol("id2");

      console.log(id === id2);
      console.log(typeof id, typeof id2);

      const NAME = Symbol();
      const SALUDAR = Symbol();

      const persona = {
        [NAME]: "jesy",
        edad: 24,
      };

      console.log(persona);

      persona.NAME = "Jesus Enrique";
      console.log(persona);
      console.log(persona.NAME);
      console.log(persona[NAME]);

      persona[SALUDAR] = () => console.log("Hi");

      console.log(persona);
      persona[SALUDAR]();

      //for in
      for (const propiedad in persona) {
        if (Object.hasOwnProperty.call(persona, propiedad)) {
          const element = persona[propiedad];
          console.log(propiedad);
          console.log(element);
        }
      }
      console.log(Object.getOwnPropertySymbols(persona));

      console.clear();

      ///////////////////////OBJETO SET////////////////////////////////

      ///estas clases son para trabajar con los arreglos de una maneta mas sencilla
      const set = new Set();
      set.add(1);
      set.add(2);
      set.add(3);
      set.add(4);
      set.add(5);
      set.add(6);
      set.add({});
      set.add("Hola");

      console.log(set);
      console.log(set.size);

      for (const iterator of set) {
        console.log(iterator);
      }
      //for in
      for (const key in set) {
        if (Object.hasOwnProperty.call(set, key)) {
          const element = set[key];
        }
        console.log(element);
      }

      set.forEach((iterator) => {
        console.log(iterator);
      });
      let arr = Array.from(set);

      console.log(arr);

      //set.delete("Hola");
      console.log(set);

      console.log(set.has("Hola"));

      console.clear();

      /////////////////////////////////////////////////////////MAPS/////////////////////////////////////////////////
      //esta clase es para trabajr con los objetos de una manera mas secillas
      let mapa = new Map();
      mapa.set("nombre", "jesus");
      mapa.set("apellido", "jesus");
      mapa.set("edad", 24);

      console.log(mapa);
      console.log(mapa.size);
      //muestra solo el nombre
      console.log(mapa.get("nombre"));
      //busca y retorna true o false en caso de encontrar esa vaiable
      console.log(mapa.has("nombre"));

      mapa.set("nombre", "Jesus Prieto");

      console.log(mapa.get("nombre"));

      mapa.delete("apellido");
      mapa.set(19, "diecinueve");
      mapa.set(false, "falso");
      mapa.set({}, {});

      console.log(mapa);

      //Destructuracion
      for (let [key, value, err] of mapa) {
        console.log(`llave: ${key}, valor: ${value}, error: ${err}`);
      }

      const mapa2 = new Map([
        ["nombre", "Kenay"],
        ["edad", 7],
        ["animal", "perro"],
      ]);

      //express operator
      const llavesmapa2 = [...mapa2.keys()];
      const valoresmapa2 = [...mapa2.values()];

      console.log(llavesmapa2[0], valoresmapa2[0]);

      console.clear();

      //////////////////////////PROMESAS/////////////////////
      //para entender mejor las promesas
      // const helloPromise = () => {
      //   return new Promise((resolve, reject) => {
      //     if (true) {
      //       resolve("Hey!");
      //     } else {
      //       reject("Ups!!!");
      //     }
      //   });
      // };

      // helloPromise()
      //   .then((Response) => console.log(Response))
      //   .then(() => console.log("hola"))
      //   .catch((error) => console.log(error));

      /////////////////////////GENERADOR/////////////////////
      function* iteralble() {
        //yield es un return especial pero solo en los generadorews
        yield "hola";
      }

      console.clear();

      ///////////////////////////////////////////PROPIEDADES DINAMICAS DE LOS OBJETOS////////////////////////////////////////

      let aleatorio = Math.round(Math.random() * 100 + 5);
      const objUsuarios = {
        propiedad: "valor",
        [`id_${aleatorio}`]: "valor aleatorio",
      };

      console.log(objUsuarios);

      const usuarios = ["jesus", "claudia", "yomaris", "roberto", "jose"];
      usuarios.forEach(
        (usuarios, index) => (objUsuarios[`id_${index}`] = usuarios)
      );

      console.log(objUsuarios);
      /////////////////////////////// THIS/////////////////////////

      this.nombre = "Contexto Global";
      console.log(this.nombre);

      function Imprimir() {
        return console.log(this.nombre);
      }

      Imprimir();

      function Persona(nombre) {
        this.nombre = nombre;

        //return console.log(nombre);
        // return function () {
        //   console.log(this.nombre, 24);
        // };
        return () => console.log(this.nombre, 24);
      }

      let jesus = new Persona("Jes√∫s");
      jesus();
      console.clear();

      ////////////////////////////////////////call,capply, bind////////////////////////////

      console.log(this);
      this.lugar = "Contexto Global 1";

      function saludar(saludo, aQUien) {
        console.log(`${saludo} ${aQUien} desde el ${this.lugar}`);
      }

      saludar("hola", "KEnAi");

      const obj = {
        lugar: "Contexto Objeto 2",
      };

      saludar.call(obj, "jesus", "Hola");
      saludar.call(null, "jesus", "Hola");
      saludar.call(this, "jesus", "Hola");
      saludar.apply(obj, ["adios", "enrique"]);
      saludar.apply(null, ["adios", "enrique"]);
      saludar.apply(this, ["adios", "enrique"]);

      this.nombre = "window";

      const person = {
        nombre: "Jesus",
        saludar: function () {
          console.log(`Hola ${this.nombre}`);
        },
      };

      person.saludar();

      const otraPersona = {
        saludar: person.saludar.bind(this),
      };

      otraPersona.saludar();

      console.clear();

      //////////////////////////////////////////////////*****JSON*****///////////////////////////////

      const json = {
        cadena: "jesus",
        numero: 24,
        booleano: true,
        arreglo: ["correr", "programar", "cocinar"],
        objeto: {
          twitter: "@jesusefp",
          email: "jesusefp99@gamil.com",
        },
        nullo: null,
      };

      console.log(json);

      //PARSE COMBIERTE LAS CADEANAS A UN OBJETO PRIMITIVO DE JS
      console.log(JSON.parse("[1,2,3]"));
      //console.log(JSON.parse({x: 2, y:3}));
      //stringify A PARTIR DE UN OBJETO VALIDO EN JS LO CONVIERTE A UNA CADENA DE TEXTO 
      console.log(JSON.stringify("[1,2,3]"));
      console.log(JSON.stringify({x: 2, y:3}));

      console.log(JSON.stringify(json));
      console.log(JSON.parse('{"cadena": "jesus","numero": "24","booleano": "true","arreglo": ["correr","programar","cocinar"],"objeto": {"twitter": "@jesusefp","email": "jesusefp99@gamil.com"},"nullo": null}'));
    </script>
  </body>
</html>
